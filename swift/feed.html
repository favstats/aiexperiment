<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
  <title>Swift</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%232AABEE'/><path d='M25 50l7 7 18-18' fill='none' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/></svg>">

  <!-- Font Awesome 6.4.0 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Swift Styles -->
  <link rel="stylesheet" href="css/swift.css">
  <link rel="stylesheet" href="../shared/css/sail-interventions.css">
</head>
<body data-platform="swift">

  <!-- Coming Soon Tooltip -->
  <div id="coming-soon-tooltip" class="sm-tooltip">Feature coming soon!</div>

  <!-- Loading Screen (Telegram-style) -->
  <div id="survey-loader" class="sm-loader">
    <div class="sm-loader-content">
      <div class="sm-loader-icon">
        <i class="fas fa-paper-plane"></i>
      </div>
      <h1 class="sm-loader-title">Swift</h1>
      <div class="sm-loader-message" id="loading-message">Connecting...</div>
      <div class="sm-loader-dots">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>

  <!-- App Shell -->
  <div class="sm-app" id="sm-app" style="display:none;">

    <!-- LEFT PANEL: Chat List -->
    <aside class="sm-chatlist" id="sm-chatlist">
      <div class="sm-chatlist-header">
        <button class="sm-hamburger"><i class="fas fa-bars"></i></button>
        <div class="sm-search-bar">
          <input type="text" placeholder="Search" disabled>
          <i class="fas fa-search"></i>
        </div>
      </div>
      <div class="sm-folder-tabs">
        <button class="sm-folder-tab active">All Chats</button>
        <button class="sm-folder-tab">Channels</button>
        <button class="sm-folder-tab">Groups</button>
        <button class="sm-folder-tab">Bots</button>
      </div>
      <div class="sm-chatlist-items" id="sm-chatlist-items">
        <!-- Chat items populated by JS -->
      </div>
    </aside>

    <!-- RIGHT PANEL: Channel View -->
    <main class="sm-channel" id="sm-channel">
      <!-- Channel header -->
      <div class="sm-channel-header">
        <button class="sm-channel-back-btn"><i class="fas fa-arrow-left"></i></button>
        <div class="sm-channel-header-avatar" id="sm-channel-avatar"
             style="background: linear-gradient(135deg, #2AABEE, #229ED9);">
          <i class="fas fa-bullhorn" style="color:white; font-size:18px;"></i>
        </div>
        <div class="sm-channel-header-info">
          <div class="sm-channel-header-name" id="sm-channel-name">Nieuws &amp; Politiek</div>
          <div class="sm-channel-header-subs" id="sm-channel-subs">12 483 subscribers</div>
        </div>
        <div class="sm-channel-header-actions">
          <button class="sm-channel-header-btn"><i class="fas fa-search"></i></button>
          <button class="sm-channel-header-btn"><i class="fas fa-phone"></i></button>
          <button class="sm-channel-header-btn"><i class="fas fa-ellipsis-vertical"></i></button>
        </div>
      </div>

      <!-- Messages area -->
      <div class="sm-messages" id="sm-messages">
        <div class="sm-messages-inner" id="sm-messages-inner">
          <!-- Messages populated by JS -->
        </div>
      </div>

      <!-- Channel bottom bar (read-only channel) -->
      <div class="sm-channel-bottom">
        <div class="sm-channel-muted-notice">
          <i class="fas fa-volume-xmark"></i>
          <span>Channel is muted</span>
        </div>
      </div>
    </main>
  </div>

  <!-- Results Modal -->
  <div class="sm-results-modal" id="sm-results-modal">
    <div class="sm-results-card">
      <div class="sm-results-header">
        <h2>Top 10 Most Viewed Messages</h2>
        <button class="sm-results-close" onclick="smCloseResults()"><i class="fas fa-times"></i></button>
      </div>
      <div class="sm-results-body" id="sm-results-body">
        <!-- Results inserted by JS -->
      </div>
    </div>
  </div>

  <!-- Debug Results Button -->
  <button class="sm-results-btn" id="sm-results-btn" style="display:none;" onclick="smShowResults()">
    <i class="fas fa-chart-bar"></i> View Attention Results
  </button>

  <!-- Shared Core JS -->
  <script src="../circl/js/circl-core.js"></script>
  <!-- Shared Feed Loader -->
  <script src="../circl/js/feed-loader.js"></script>
  <!-- SAIL (Sandbox for AI Intervention & Labeling) Tracker -->
  <script src="../shared/js/sail-tracker.js"></script>
  <!-- Swift Feed JS -->
  <script src="js/swift-feed.js"></script>
  <!-- SAIL Intervention Engine -->
  <script src="../shared/js/sail-interventions.js"></script>
</body>
</html>
